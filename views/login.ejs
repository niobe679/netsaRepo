<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
        /* General Styles */
        /* * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(to right, #A0C4FF, #D0A8F0);
        } */

        /* Login Form Container */
        .ccontainer {
            width: 400px;
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
            
        }

        h2 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }

        /* Tabs for Login and Signup */
        .tab-buttons {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .tab-buttons button {
            flex: 1;
            padding: 10px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #444;
            background: #f0f0f0;
            transition: background 0.3s, color 0.3s;
        }

        .tab-buttons .active {
            background: linear-gradient(to right, #4A90E2, #357ABD);
            color: white;
            font-weight: bold;
        }

        /* Input Fields */
        .input-group {
            margin-bottom: 15px;
            text-align: left;
        }

        .input-group label {
            display: block;
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .input-group input {
            width: 100%;
            padding: 10px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 5px;
            outline: none;
        }

        .forgot-password {
            display: block;
            text-align: right;
            font-size: 12px;
            margin-bottom: 20px;
            color: #357ABD;
            text-decoration: none;
        }

        /* Login Button */
        .btn-login {
            width: 100%;
            padding: 10px;
            border: none;
            background: linear-gradient(to right, #4A90E2, #357ABD);
            color: white;
            font-size: 16px;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn-login:hover {
            background: linear-gradient(to right, #357ABD, #4A90E2);
        }

        /* Signup Text */
        .signup-text {
            margin-top: 20px;
            font-size: 14px;
            color: #333;
        }

        .signup-text a {
            color: #357ABD;
            text-decoration: none;
            font-weight: bold;
        }

        .signup-text a:hover {
            text-decoration: underline;
        }
        /* Google Signup Button */
.google-signup {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 10px 15px;
  margin-bottom: 15px;
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.google-signup img {
  width: 20px;
  margin-right: 10px;
}

.google-signup:hover {
  background-color: #f4f4f4;
}
    </style>
</head>
<body style="background-color: whitesmoke;">
  <!-- Header -->
  <%- include('partials/header') %>

  <!-- Sign Up Form -->
  <!-- <section class="py-5" style="padding: 20px 455px; ">
    <div class="container">
      <h2 class="mb-4">Create an Account</h2>
      <form action="/signup" method="POST" style="padding: 21px; background-color: white;">
        <div class="mb-3">
          <label for="name" class="form-label">Full Name</label>
          <input type="text" class="form-control" id="name" name="name" required>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input type="password" class="form-control" id="password" name="password" required>
        </div>
        <button type="submit" class="btn btn-primary">Sign Up</button>
      </form>
    </div>
  </section> -->
  <form  id="loginForm" method="POST">
  <div class="ccontainer" style="margin-left: 551px; margin-top: 13px; height: 483px;">
    <h2>Login Form</h2>
    <!-- Tabs -->
    <!-- <div class="tab-buttons">
        <button id="loginBtn" class="active" onclick="switchTab('login')">Login</button>
        <button id="signupBtn" onclick="switchTab('signup')">Signup</button>
    </div> -->
    
    <!-- Input Fields -->
    <div id="formContent" >
        <div class="input-group">
            <label for="username">Username</label>
            <input type="text" name="username" placeholder="Enter your username">
        </div>
        <div class="input-group">
            <label for="password">Password</label>
            <input type="password" name="password" placeholder="Enter your password">
        </div>
        <a href="#" class="forgot-password">Forgot password?</a>
        <button class="btn-login" type="submit">Login</button>
        <div class="signup-text">
            Create an account <a href="/signup">Signup now</a>
        </div>
            <!-- Google Signup Button -->
      <button class="google-signup">
        <img src="/images/google-logo.png" alt="Google Logo" style="height:22px; width:auto; object-fit:contain; ">
        Continue with Google
      </button>

      <hr>
    </div>
</div>
</form>
  <!-- Footer -->
  <%- include('partials/footer') %>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Function to switch between Login and Signup tabs
    document.getElementById('loginForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    console.log("in function");
    const formData = new FormData(e.target);
    const data = Object.fromEntries(formData.entries());

    const response = await fetch('/api/auth/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data),
    });
    const result = await response.text();
    if (response.ok) {
        window.location.href = "/";
        console.log(result); // Redirect to the dashboard
    } else {
       
        console.log(result); // Handle login errors
    }
    
});


</script>
</body>
</html>